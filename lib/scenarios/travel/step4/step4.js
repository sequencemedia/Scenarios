'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require('babel-runtime/regenerator');var _regenerator2=_interopRequireDefault(_regenerator);var _objectWithoutProperties2=require('babel-runtime/helpers/objectWithoutProperties');var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);var _asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator');var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _step4EnterAddress=require('./step4-enter-address');var _step4EnterAddress2=_interopRequireDefault(_step4EnterAddress);var _step4EnterEmail=require('./step4-enter-email');var _step4EnterEmail2=_interopRequireDefault(_step4EnterEmail);var _step4SelectOptIn=require('./step4-select-opt-in');var _step4SelectOptIn2=_interopRequireDefault(_step4SelectOptIn);var _step4SelectAcceptConditions=require('./step4-select-accept-conditions');var _step4SelectAcceptConditions2=_interopRequireDefault(_step4SelectAcceptConditions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=function(){var _ref=(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(page){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _ref2$selectOptIn=_ref2.selectOptIn,optIn=_ref2$selectOptIn===undefined?false:_ref2$selectOptIn,_ref2$selectAcceptCon=_ref2.selectAcceptConditions,acceptConditions=_ref2$selectAcceptCon===undefined?true:_ref2$selectAcceptCon,params=(0,_objectWithoutProperties3.default)(_ref2,['selectOptIn','selectAcceptConditions']);return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return page.waitForSelector('[data-step-index="4"]',{visible:true});case 2:_context.next=4;return page.click('[data-step-index="4"]');case 4:_context.next=6;return(0,_step4EnterAddress2.default)(page,params);case 6:_context.next=8;return(0,_step4EnterEmail2.default)(page,params);case 8:if(!optIn){_context.next=11;break;}_context.next=11;return(0,_step4SelectOptIn2.default)(page,params);case 11:if(!acceptConditions){_context.next=14;break;}_context.next=14;return(0,_step4SelectAcceptConditions2.default)(page,params);case 14:_context.next=16;return page.click('[data-step-index="4"] .accept-conditions');case 16:_context.next=18;return page.evaluate(function(){document.querySelector('[data-step-index="4"] .accept-conditions .buy-btn a').scrollIntoView({behaviour:'instant'});});case 18:_context.next=20;return page.focus('[data-step-index="4"] .accept-conditions .buy-btn a');case 20:_context.next=22;return page.click('[data-step-index="4"] .accept-conditions .buy-btn a');case 22:case'end':return _context.stop();}}},_callee,undefined);}));return function(_x){return _ref.apply(this,arguments);};}();