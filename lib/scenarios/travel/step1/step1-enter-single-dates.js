'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require('babel-runtime/regenerator');var _regenerator2=_interopRequireDefault(_regenerator);var _objectWithoutProperties2=require('babel-runtime/helpers/objectWithoutProperties');var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);var _asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator');var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _fsExtra=require('fs-extra');var _logger=require('../../../logger');var _logger2=_interopRequireDefault(_logger);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=function(){var _ref=(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(_ref2){var page=_ref2.page,config=(0,_objectWithoutProperties3.default)(_ref2,['page']);var selector,_selector,_selector2,_ref3$message,message,dir;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return page.waitForSelector('[data-step-index="1"]',{visible:true});case 3:_context.next=5;return page.click('[data-step-index="1"]');case 5:_context.next=7;return page.waitForSelector('[data-step-index="1"] .single-insurance-period');case 7:selector=page.waitForSelector('[data-step-index="1"] .single-insurance-period',{visible:true});_context.next=10;return page.evaluate(function(){document.querySelector('[data-step-index="1"] .single-insurance-period').scrollIntoView({behaviour:'instant'});});case 10:_context.next=12;return selector;case 12:_selector=page.waitForSelector('.datepicker',{visible:true});_context.next=15;return page.focus('[data-step-index="1"] input#startdate');case 15:_context.next=17;return page.click('[data-step-index="1"] input#startdate');case 17:_context.next=19;return _selector;case 19:_context.next=21;return page.click('.datepicker .day:not(.disabled)');case 21:_selector2=page.waitForSelector('.datepicker',{visible:true});_context.next=24;return page.focus('[data-step-index="1"] input#finishdate');case 24:_context.next=26;return page.click('[data-step-index="1"] input#finishdate');case 26:_context.next=28;return _selector2;case 28:_context.next=30;return page.click('.datepicker .day:not(.disabled)');case 30:_context.next=42;break;case 32:_context.prev=32;_context.t0=_context['catch'](0);_ref3$message=_context.t0.message;message=_ref3$message===undefined?'No error message is defined':_ref3$message;_logger2.default.error('Error in Step 1 - Enter Single Dates. '+message.trim());dir=config.dir;_context.next=40;return(0,_fsExtra.ensureDir)(dir);case 40:_context.next=42;return page.screenshot({path:dir+'/step-1-enter-single-dates.png',fullPage:true});case 42:case'end':return _context.stop();}}},_callee,undefined,[[0,32]]);}));return function(_x){return _ref.apply(this,arguments);};}();